(this.webpackJsonpweather_course_work=this.webpackJsonpweather_course_work||[]).push([[0],{24:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),l=a(16),r=a.n(l),i=(a(24),a(9)),o=a(7),d=function(e){var t=e.updateGps,a=e.errorInputFun,s=Object(n.useRef)(null);return Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark fixed-top",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)(o.b,{className:"navbar-brand",to:"/",onClick:t.bind(null,null,!0),children:"Weather"}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(c.jsxs)("ul",{className:"navbar-nav",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(o.b,{className:"nav-link","aria-current":"page",to:"/",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(o.b,{className:"nav-link",to:"/2-days",children:"2 \u0434\u043d\u044f"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(o.b,{className:"nav-link",to:"/7-days",children:"7 \u0434\u043d\u0435\u0439"})})]}),Object(c.jsxs)("form",{className:"d-flex ms-auto ",children:[Object(c.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search",ref:s}),Object(c.jsx)("button",{className:"btn btn-outline-success",type:"submit",onClick:function(e){e.preventDefault(),fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(s.current.value,"&appid=").concat("245f904cf31facf488199e0cb45158dd")).then((function(e){return e.json()})).then((function(e){200===e.cod?(console.log(e.coord),t(e.coord)):a()}),(function(e){a()})).catch(a)},children:"Search"})]})]})]})})},j=a(2),b=a(18),u=function(e){var t=e.labels,a=e.opt,s=e.time,l=e.data,r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=r.current;if(e){var c={type:"line",data:{labels:s.map((function(e){var t=new Date(1e3*e),c=t.getHours(),n="0"+t.getMinutes();return t.getMinutes()%a.step===0?"".concat(c,":").concat(n.substr(-2)):""})),datasets:[{label:t.title,data:l,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.5)"}]},options:{title:{display:!0,fontColor:"white",text:t.title},legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:a.beginAtZero,fontColor:"white"},scaleLabel:{display:!0,labelString:t.yLabel,fontColor:"white"},gridLines:{color:"white"}}],xAxes:[{ticks:{fontColor:"white"},scaleLabel:{display:!0,labelString:t.xLabel,fontColor:"white"},gridLines:{color:"white"}}]}}};new b.Chart(e,c)}})),Object(c.jsx)("canvas",{ref:r})},h=function(e){var t=e.items;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"row text-center",children:[Object(c.jsxs)("div",{className:"col card1",children:[Object(c.jsx)("div",{className:"temperature-text",children:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430"}),Object(c.jsxs)("div",{className:"temperature-val",children:[(t.current.temp-273).toFixed(1)," \xb0C"]})]}),Object(c.jsxs)("div",{className:"col-auto card1",children:[Object(c.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.current.weather[0].icon,"@4x.png"),alt:"\u0421\u0434\u0435\u0441\u044c \u0431\u044b\u043b\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),Object(c.jsx)("div",{children:t.current.weather[0].description.toUpperCase()})]}),Object(c.jsxs)("div",{className:"col card1",children:[Object(c.jsx)("div",{className:"wind_speed-text",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430"}),Object(c.jsxs)("div",{className:"wind_speed-val",children:[t.current.wind_speed," \u043c/\u0441"]})]}),Object(c.jsxs)("div",{className:"col card1",children:[Object(c.jsx)("div",{className:"humidity-text",children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(c.jsxs)("div",{className:"humidity-val",children:[t.current.humidity," %"]})]})]}),"minutely"in t?Object(c.jsx)(u,{labels:{title:"\u041e\u0441\u0430\u0434\u043a\u0438 \u043d\u0430 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0439 \u0447\u0430\u0441",xLabel:"\u0412\u0440\u0435\u043c\u044f",yLabel:"\u041e\u0441\u0430\u0434\u043a\u0438, \u043c\u043c"},opt:{beginAtZero:!0,step:5},data:t.minutely.map((function(e){return e.precipitation})),time:t.minutely.map((function(e){return e.dt}))}):"\u041e\u0439! \u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u043c\u0438\u043d\u0443\u0442\u043d\u044b\u0439 \u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f"]})},p=function(e){var t=e.items,a=t.hourly.map((function(e){return e.dt}));return Object(c.jsxs)("div",{className:"row row-cols-2",children:[Object(c.jsx)("div",{className:"col",children:Object(c.jsx)(u,{time:a,data:t.hourly.map((function(e){return+(e.temp-273).toFixed(1)})),opt:{beginAtZero:!1,step:30},labels:{title:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0437\u0430 2 \u0434\u043d\u044f",xLabel:"\u0412\u0440\u0435\u043c\u044f",yLabel:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430, \xb0C"}})}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)(u,{time:a,data:t.hourly.map((function(e){return e.pop})),opt:{beginAtZero:!0,step:30},labels:{title:"\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043e\u0441\u0430\u0434\u043a\u043e\u0432",xLabel:"\u0412\u0440\u0435\u043c\u044f",yLabel:"%"}})}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)(u,{time:a,data:t.hourly.map((function(e){return e.wind_speed})),opt:{beginAtZero:!0,step:30},labels:{title:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430",xLabel:"\u0412\u0440\u0435\u043c\u044f",yLabel:"\u043c/\u0441"}})}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)(u,{time:a,data:t.hourly.map((function(e){return e.humidity})),opt:{beginAtZero:!0,step:30},labels:{title:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c",xLabel:"\u0412\u0440\u0435\u043c\u044f",yLabel:"%"}})})]})},m=function(e){var t=e.items;return Object(c.jsx)("ul",{className:"row row-cols-5 justify-content-evenly",children:t.daily.map((function(e,t){return Object(c.jsxs)("li",{className:"col card1 text-center",children:[Object(c.jsx)("div",{children:new Date(1e3*e.dt).toLocaleDateString()}),Object(c.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:"\u0421\u0434\u0435\u0441\u044c \u0431\u044b\u043b\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),Object(c.jsx)("div",{children:e.weather[0].description.toUpperCase()}),Object(c.jsx)("div",{children:"\u043e\u0442 ".concat((e.temp.min-273).toFixed(1),"\xb0C \u0434\u043e ").concat((e.temp.max-273).toFixed(1),"\xb0C")}),Object(c.jsxs)("div",{children:["\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u043e\u0441\u0430\u0434\u043a\u043e\u0432: ",e.pop,"%"]}),Object(c.jsxs)("div",{children:["\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",e.wind_speed," \u043c/\u0441"]})]},t)}))})},x=function(e){return e.error?Object(c.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430: ",JSON.stringify(e.error)]}):e.isLoaded&&null!=e.items?Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/7-days",children:Object(c.jsx)(m,{items:e.items})}),Object(c.jsx)(j.a,{path:"/2-days",children:Object(c.jsx)(p,{items:e.items})}),Object(c.jsx)(j.a,{path:"/",children:Object(c.jsx)(h,{items:e.items})})]}):Object(c.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})};var O=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(!1),r=Object(i.a)(l,2),j=r[0],b=r[1],u=Object(n.useState)(null),h=Object(i.a)(u,2),p=h[0],m=h[1],O=Object(n.useState)(!1),v=Object(i.a)(O,2),f=v[0],g=v[1],N=Object(n.useState)(null),w=Object(i.a)(N,2),y=w[0],L=w[1];Object(n.useEffect)((function(){C(null)}));var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!y||t?"geolocation"in navigator?(console.log("Available"),navigator.geolocation.getCurrentPosition((function(e){L({lat:e.coords.latitude,lon:e.coords.longitude}),console.log(e.coords)}))):console.log("Not Available"):e&&(s(null),b(!1),L({lat:e.lat,lon:e.lon}))};return Object(n.useEffect)((function(){y&&fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(y.lat,"&lon=").concat(y.lon,"&exclude=&appid=").concat("245f904cf31facf488199e0cb45158dd","&lang=ru")).then((function(e){return e.json()})).then((function(e){console.log(e),b(!0),m(e)}),(function(e){b(!0),s(e)}))}),[y]),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)(d,{updateGps:C,errorInputFun:function(){console.log("dagsdgajsgdjasjdhg"),g(!0),setTimeout((function(){return g(!1)}),2e3)}})}),Object(c.jsx)("div",{className:"alert alert-warning",style:{position:"fixed",display:f?"block":"none"},role:"alert",children:"\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"}),Object(c.jsx)("div",{className:"container page mt-2",children:Object(c.jsx)(x,{error:a,isLoaded:j,items:p})})]})})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),c(e),n(e),s(e),l(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),v()}},[[32,1,2]]]);
//# sourceMappingURL=main.67315ac9.chunk.js.map